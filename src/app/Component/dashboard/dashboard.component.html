<app-user-nav></app-user-nav>
<br />
<div class="ticker-list">
  <ul>
    <li><b>BTC/INR:</b> 7,02,000.00</li>
    <li>|</li>
    <li><b> ETH/INR:</b> 62,151.00</li>
    <li><b> XRP/INR:</b> 73.27</li> 
    <li><b>LTC/INR:</b> 14,665.00</li> 
    <li><b>BCH/INR:</b> 99,900.00</li> 
    <li><b>GNT/INR:</b> 27.45</li> 
    <li><b>MIOTA/INR:</b> 133.31</li>
    <li><b>OMG/INR:</b> 1,076.27</li>
  </ul>   
</div>
<div class="container-fluid">
  <div class="row" style="background-color: #273548; padding:10px;">
    <div class="col-sm-4 credentials-form buy-section">
      <h4 align="center">Buy</h4>
      <div>
        <div>
          <input type="number" placeholder="amount BTC" [(ngModel)]= "buyAmount"  (keyup)="onKey($event,'buy')" />
        </div>
        <div>
          <input type="number" placeholder="price/BTC" [(ngModel)]= "buyPricePerBTC" (keyup)="onKey($event,'buy')" />
        </div>
        <div>
          <span class="trade-pricing">Rs. {{buyTotalValue}}</span>
          <input class="signup-btn" type="button" value="Buy" (click)="openModal(BuySellTemplate,'buy')" />          
        </div>
      </div>
    </div>
    <div class="col-sm-4 credentials-form sell-section">
      <h4 align="center">Sell</h4>
      <div>
        <div>
          <input type="number" placeholder="amount BTC" [(ngModel)]= "sellAmount" (keyup)="onKey($event,'sell')" />
        </div>
        <div>
          <input type="number" placeholder="price/BTC"  [(ngModel)]= "sellPricePerBTC" (keyup)="onKey($event,'sell')" />
        </div>
        <div>
          <span class="trade-pricing">Rs. {{sellTotalValue}}</span>
          <input class="signup-btn" type="button" value="Sell" (click)="openModal(BuySellTemplate,'sell')" />          
        </div>
      </div>
    </div>
    <div class="col-sm-4 credentials-form pending-section">
      <h4 align="center">Pending Orders</h4>
      <div>
        <div style="min-height:97px;">
          <div class="row">
            <div class="col-xs-4 col-mod-5">0.0023 BTC</div>
            <div class="col-xs-4 col-mod-5" style="text-align:center;"> Rs.130000</div>
            <div class="col-xs-4 col-mod-5" style="text-align:right;"> cancel</div>
          </div>
          <div class="row">
            <div class="col-xs-4 col-mod-5">0.0023 BTC</div>
            <div class="col-xs-4 col-mod-5" style="text-align:center;"> Rs.130000</div>
            <div class="col-xs-4 col-mod-5" style="text-align:right;"> cancel</div>
          </div>
        </div>
        <div>
          <span class="trade-pricing">Rs. 19000</span>
          <span class="inr-balance">2.0 BTC</span>
        </div>
      </div>
    </div>
  </div>

  <div class="row trading-details">
    <div class="col-xs-6 col-sm-3 buy-section-ticker">
      <h5>Buy Orders</h5>
      <table style="width:100%">
        <thead>
          <tr>
            <th style="width:50%">Volume</th>
            <th style="width:50%">INR/BTC</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let trade of tickerAPIResults.buy_orders; let i = index;" [ngClass]="{'tr-odd':(i%2 != 0)}">
            <td style="width:50%">{{trade.vol}}</td>
            <td style="width:50%">{{trade.price}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-xs-6 col-sm-3 sell-section-ticker">
      <h5>Sell Orders</h5>
      <table style="width:100%">
        <thead>
          <tr>
            <th style="width:50%">Volume</th>
            <th style="width:50%">INR/BTC</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let trade of tickerAPIResults.buy_orders; let i = index" [ngClass]="{'tr-odd':(i%2 != 0)}">
            <td style="width:50%">{{trade.vol}}</td>
            <td style="width:50%">{{trade.price}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-xs-6 col-sm-3 market-trade-ticker">
      <h5>Market Trade History </h5>
      <table style="width:100%">
        <thead>
          <tr>
            <th style="width:50%">Volume</th>
            <th style="width:50%">INR/BTC</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let trade of tickerAPIResults.buy_orders; let i = index" [ngClass]="{'tr-odd':(i%2 != 0)}">
            <td style="width:50%">{{trade.vol}}</td>
            <td style="width:50%">{{trade.price}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-xs-6 col-sm-3 your-trade-ticker">
      <h5>Your Trade History</h5>
      <table style="width:100%">
        <thead>
          <tr>
            <th style="width:50%">Volume</th>
            <th style="width:50%">INR/BTC</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let trade of tickerAPIResults.buy_orders; let i = index" [ngClass]="{'tr-odd':(i%2 != 0)}">
            <td style="width:50%">{{trade.vol}}</td>
            <td style="width:50%">{{trade.price}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<ng-template #BuySellTemplate>
  <div class="modal-header">
    <h3 class="modal-title pull-left">{{TradeTitle}}</h3>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
  </div>
  <div style="padding:15px;">
    <div class="credentials-form">
      <div *ngIf="buy">
      <table border="1">
        <tr>
          <th>COIN</th>
          <th>VOLUME</th>
          <th>PRICE</th>
          <th>TOTAL</th>
        </tr>
        <tr>
          <td>{{coin}}</td>
          <td>{{amount}}</td>
          <td>{{perBtc}}</td>
          <td>{{buyTotalValue}}</td>
        </tr>
      </table>
      <input class="signup-btn" type="button" value="CONFIRM" (click)="BuyAndSell()" />
    </div>
    <div *ngIf="sell">
        <table border="1">
            <tr>
              <th>COIN</th>
              <th>VOLUME</th>
              <th>PRICE</th>
              <th>TOTAL</th>
            </tr>
            <tr>
              <td>{{coin}}</td>
              <td>{{sellBindAmount}}</td>
              <td>{{sellBindperBtc}}</td>
              <td>{{sellTotalValue}}</td>
            </tr>
          </table>
          <input class="signup-btn" type="button" value="CONFIRM" (click)="BuyAndSell()" />
    </div>
  </div>
  </div>
</ng-template>
